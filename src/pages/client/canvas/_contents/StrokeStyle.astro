---
import Card from '@/components/common/Card.astro';
import Code from '@/components/common/Code.astro';

export const contentOrder = 1;
export const id = 'strokeStyle';
const code = `ctx.strokeStyle = '#000'`;
---

<Card id={id}>
  <h2>ctx.strokeStyleについて</h2>
  <p>描画する線スタイルを変更することができます。</p>
  <Code code={code} />
  <button type='button'>色を変更</button>
  <output>
    <canvas width='200' height='200'></canvas>
  </output>
</Card>

<script>
  const root = document.getElementById('strokeStyle');
  if (root) {
    const button = root.querySelector('button');
    const output = root.querySelector('output');
    const canvas = root.querySelector('canvas');
    if (button && output && canvas) {
      const ctx = canvas.getContext('2d');
      function draw(target: CanvasRenderingContext2D, style: string) {
        if (target && style) {
          target.clearRect(0, 0, 200, 200);
          target.beginPath();
          target.strokeStyle = style;
          target.strokeRect(20, 20, 50, 50);
        }
      }
      if (ctx) {
        draw(ctx, '#000');
        button.addEventListener('click', () => {
          draw(ctx, '#f00');
        });
      }
    }
  }
</script>
