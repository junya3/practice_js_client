---
import Card from '@/components/common/Card.astro';
import Code from '@/components/common/Code.astro';

export const contentOrder = 12;
export const id = 'setTimeout';
const code = `window.setTimeout(() => console.log('hello'),1000);
// 1秒後に表示`;
---

<Card id={id}>
  <h2>window.setTimeout()について</h2>
  <p>処理を遅延させて実行させる</p>
  <Code code={code} />
  <button type='button'>実行</button>
  <output></output>
</Card>

<script>
  const root = document.getElementById('setTimeout');
  if (root) {
    const button = root.querySelector('button');
    const output = root.querySelector('output');
    if (button && output) {
      button.addEventListener('click', () => {
        const sec = 3;
        const ms = sec * 1000;
        function SampleLog(sec: number) {
          let result = `${sec}秒後に実行されました`;
          return result;
        }
        window.setTimeout(() => {
          output.textContent = SampleLog(sec);
        }, ms);
      });
    }
  }
</script>
